type: custom:stack-in-card
title: Entrance Level 1
card_mod: ##this is a styling section to beautify the card
  style: |
    ha-card {
      border-style: solid;
      border-width: 3px;
      border-radius: 5px;
      --ha-card-header-color: orange;
      --ha-card-header-font-size: 30px;
      min-height: 350px;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
mode: vertical
cards:
  - camera_view: live
    type: picture-glance
    entities:  ##here we add togglable entities to a quick glance view
      - entity: switch.gate_relay
      - entity: lock.door_front
      - entity: light.entryway_cam_spotlight
      - entity: light.entryway_cam_ir_light
      - entity: light.courtyard_lamp_posts
      - entity: light.courtyard_door_spotlight
    camera_image: camera.1_level_front_entrance_camera ##this is our Generic Camera entity we created in [chapter 6.5]
    entity: automation.main_hall_tv_turn_on_off_automation ##just a placeholder entity - choose any available that doesn't change states much
    hold_action: ##open larger view on hold action
      action: navigate
      navigation_path: >-
        https://YOUR_REMOTE_HA_DONAIN_ADDRESS/api/hassio_ingress/GO2RTC_ID/webrtc.html?src=1st_Level_Entrance_Cam&media=video+audio ##THIS IS IMPORTANT - for the stream to be available remotely, we use **link generated by go2rtc** addon, as mentioned in [üñºÔ∏è 6.5 Adding go2rtc Streams to Home Assistant chapter], particularly **webrtc.html local WebRTC viewer** link at the bottom of the page
    tap_action:
      action: fire-dom-event ##here we add browsermod functionality to open pop-ups on the device that currently displays the dashboard
      browser_mod:
        service: browser_mod.popup
        data:
          title: 1st Level Entrance
          timeout: 600000 ##set a timeout for how long the popup lasts
          content:
            type: picture-elements
            camera_image: camera.1_level_front_entrance_camera_hd ##this is our Generic Camera entity we created in [chapter 6.5], but with a Higher Resolution than the Main Dahua RTSP Stream
            camera_view: live
            elements: ##here we add toggleable entities to the popup view, note that we use style: to adjust their position and scale on live view
              - type: state-icon
                icon: mdi:spotlight
                style:
                  top: 85%
                  right: 5%
                  transform: scale(1.2, 1.2)
                tap_action:
                  action: toggle
                entity: light.entryway_cam_spotlight
              - type: state-icon
                icon: mdi:weather-night
                style:
                  top: 75%
                  right: 5%
                  transform: scale(1.2, 1.2)
                tap_action:
                  action: toggle
                entity: light.entryway_cam_ir_light
              - type: state-icon
                icon: mdi:gate-open
                style:
                  top: 65%
                  right: 5%
                  transform: scale(1.2, 1.2)
                tap_action:
                  action: toggle
                entity: switch.gate_relay
              - type: state-icon
                icon: mdi:door-open
                style:
                  top: 55%
                  right: 5%
                  transform: scale(1.2, 1.2)
                tap_action:
                  action: toggle
                entity: lock.door_front
              - type: state-icon
                icon: mdi:track-light
                style:
                  top: 45%
                  right: 5%
                  transform: scale(1.2, 1.2)
                tap_action:
                  action: toggle
                entity: light.courtyard_door_spotlight
              - type: state-icon
                icon: mdi:coach-lamp-variant
                style:
                  top: 35%
                  right: 5%
                  transform: scale(1.2, 1.2)
                tap_action:
                  action: toggle
                entity: light.courtyard_lamp_posts
columns: 1
view_layout: ##this is the element from lovelace_layout_card custom UI integration from HACS, I use them to position cards in grid with coordinates
  grid-area: c4
